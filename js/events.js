var datepicker_format="yy-mm-dd";function mec_location_toggle(){"0"!=jQuery("#mec_location_id").val()?jQuery("#mec_location_new_container").hide():jQuery("#mec_location_new_container").show()}function mec_organizer_toggle(){"0"!=jQuery("#mec_organizer_id").val()?jQuery("#mec_organizer_new_container").hide():jQuery("#mec_organizer_new_container").show()}function mec_repeat_toggle(){jQuery("#mec_repeat").is(":checked")?jQuery(".mec-form-repeating-event-row").show():jQuery(".mec-form-repeating-event-row").hide()}function mec_repeat_type_toggle(){var e=jQuery("#mec_repeat_type").val();"certain_weekdays"==e?(jQuery("#mec_repeat_interval_container").hide(),jQuery("#mec_repeat_certain_weekdays_container").show(),jQuery("#mec_exceptions_in_days_container").hide(),jQuery("#mec_end_wrapper").show(),jQuery("#mec-advanced-wraper").hide()):"custom_days"==e?(jQuery("#mec_repeat_interval_container").hide(),jQuery("#mec_repeat_certain_weekdays_container").hide(),jQuery("#mec_exceptions_in_days_container").show(),jQuery("#mec_end_wrapper").hide(),jQuery("#mec-advanced-wraper").hide()):"advanced"==e?(jQuery("#mec_repeat_interval_container").hide(),jQuery("#mec_repeat_certain_weekdays_container").hide(),jQuery("#mec_exceptions_in_days_container").hide(),jQuery("#mec_end_wrapper").show(),jQuery("#mec-advanced-wraper").show()):"daily"!=e&&"weekly"!=e?(jQuery("#mec_repeat_interval_container").hide(),jQuery("#mec_repeat_certain_weekdays_container").hide(),jQuery("#mec_exceptions_in_days_container").hide(),jQuery("#mec_end_wrapper").show(),jQuery("#mec-advanced-wraper").hide()):(jQuery("#mec_repeat_interval_container").show(),jQuery("#mec_repeat_certain_weekdays_container").hide(),jQuery("#mec_exceptions_in_days_container").hide(),jQuery("#mec_end_wrapper").show(),jQuery("#mec-advanced-wraper").hide())}function mec_in_days_remove(e){jQuery("#mec_in_days_row"+e).remove()}function mec_not_in_days_remove(e){jQuery("#mec_not_in_days_row"+e).remove()}function mec_bookings_unlimited_toggle(){jQuery("#mec_bookings_limit").toggleClass("mec-util-hidden")}function mec_hourly_schedule_listeners(){jQuery(".mec-add-hourly-schedule-button").off("click").on("click",(function(){var e=jQuery(this).data("day"),_=jQuery("#mec_new_hourly_schedule_key"+e).val(),t=jQuery("#mec_new_hourly_schedule_raw"+e).html().replace(/:i:/g,_).replace(/:d:/g,e);jQuery("#mec_hourly_schedules"+e).append(t),jQuery("#mec_new_hourly_schedule_key"+e).val(parseInt(_)+1)}))}function mec_hourly_schedule_remove(e,_){jQuery("#mec_hourly_schedule_row"+e+"_"+_).remove()}function mec_hourly_schedule_day_remove(e){jQuery("#mec_meta_box_hourly_schedule_day_"+e).remove()}function mec_ticket_remove(e){jQuery("#mec_ticket_row"+e).remove()}function mec_set_event_color(e){try{jQuery("#mec_event_color").wpColorPicker("color","#"+e)}catch(_){jQuery("#mec_event_color").val(e)}}function mec_remove_fee(e){jQuery("#mec_fee_row"+e).remove()}function mec_remove_ticket_variation(e){jQuery("#mec_ticket_variation_row"+e).remove()}function mec_reg_fields_option_listeners(){jQuery("button.mec-reg-field-add-option").off("click").on("click",(function(){var e=jQuery(this).data("field-id"),_=jQuery("#mec_new_reg_field_option_key_"+e).val(),t=jQuery("#mec_reg_field_option").html().replace(/:i:/g,_).replace(/:fi:/g,e);jQuery("#mec_reg_fields_"+e+"_options_container").append(t),jQuery("#mec_new_reg_field_option_key_"+e).val(parseInt(_)+1)})),void 0!==jQuery.fn.sortable&&(jQuery("#mec_reg_form_fields").sortable({handle:".mec_reg_field_sort"}),jQuery(".mec_reg_fields_options_container").sortable({handle:".mec_reg_field_option_sort"}))}function mec_reg_fields_option_remove(e,_){jQuery("#mec_reg_fields_option_"+e+"_"+_).remove()}function mec_reg_fields_remove(e){jQuery("#mec_reg_fields_"+e).remove()}function mec_handle_add_price_date_button(e){var _=jQuery(e).data("key"),t=jQuery("#mec_new_ticket_price_key_"+_).val(),n=jQuery("#mec_new_ticket_price_raw_"+_).html().replace(/:i:/g,_).replace(/:j:/g,t);jQuery("#mec-ticket-price-dates-"+_).append(n),jQuery("#mec_new_ticket_price_key_"+_).val(parseInt(t)+1),jQuery("#mec-ticket-price-dates-"+_+" .new_added").datepicker({changeYear:!0,changeMonth:!0,dateFormat:datepicker_format,gotoCurrent:!0,yearRange:"c-3:c+5"})}function mec_ticket_price_remove(e,_){jQuery("#mec_ticket_price_raw_"+e+"_"+_).remove()}function mec_event_fields_option_listeners(){jQuery("button.mec-event-field-add-option").off("click").on("click",(function(){var e=jQuery(this).data("field-id"),_=jQuery("#mec_new_event_field_option_key_"+e).val(),t=jQuery("#mec_event_field_option").html().replace(/:i:/g,_).replace(/:fi:/g,e);jQuery("#mec_event_fields_"+e+"_options_container").append(t),jQuery("#mec_new_event_field_option_key_"+e).val(parseInt(_)+1)})),void 0!==jQuery.fn.sortable&&(jQuery("#mec_event_form_fields").sortable({handle:".mec_event_field_sort"}),jQuery(".mec_event_fields_options_container").sortable({handle:".mec_event_field_option_sort"}))}function mec_event_fields_option_remove(e,_){jQuery("#mec_event_fields_option_"+e+"_"+_).remove()}function mec_event_fields_remove(e){jQuery("#mec_event_fields_"+e).remove()}function mec_bfixed_fields_option_listeners(){jQuery("button.mec-bfixed-field-add-option").off("click").on("click",(function(){var e=jQuery(this).data("field-id"),_=jQuery("#mec_new_bfixed_field_option_key_"+e).val(),t=jQuery("#mec_bfixed_field_option").html().replace(/:i:/g,_).replace(/:fi:/g,e);jQuery("#mec_bfixed_fields_"+e+"_options_container").append(t),jQuery("#mec_new_bfixed_field_option_key_"+e).val(parseInt(_)+1)})),void 0!==jQuery.fn.sortable&&(jQuery("#mec_bfixed_form_fields").sortable({handle:".mec_bfixed_field_sort"}),jQuery(".mec_bfixed_fields_options_container").sortable({handle:".mec_bfixed_field_option_sort"}))}function mec_bfixed_fields_option_remove(e,_){jQuery("#mec_bfixed_fields_option_"+e+"_"+_).remove()}function mec_bfixed_fields_remove(e){jQuery("#mec_bfixed_fields_"+e).remove()}jQuery(document).ready((function(e){if(e(".mec_upload_image_button").click((function(_){var t;_.preventDefault(),t||(t=wp.media()).on("select",(function(){var _=t.state().get("selection").first();e("#mec_thumbnail_img").html('<img src="'+_.attributes.url+'" />'),e("#mec_thumbnail").val(_.attributes.url),e(".mec_remove_image_button").toggleClass("mec-util-hidden"),t.close()})),t.open()})),e(".mec_remove_image_button").click((function(_){_.preventDefault(),e("#mec_thumbnail_img").html(""),e("#mec_thumbnail").val(""),e(".mec_remove_image_button").toggleClass("mec-util-hidden")})),e(".mec_location_upload_image_button").click((function(_){var t;_.preventDefault(),t||(t=wp.media()).on("select",(function(){var _=t.state().get("selection").first();e("#mec_location_thumbnail_img").html('<img src="'+_.attributes.url+'" />'),e("#mec_location_thumbnail").val(_.attributes.url),e(".mec_location_remove_image_button").toggleClass("mec-util-hidden"),t.close()})),t.open()})),e(".mec_location_remove_image_button").click((function(_){_.preventDefault(),e("#mec_location_thumbnail_img").html(""),e("#mec_location_thumbnail").val(""),e(".mec_location_remove_image_button").toggleClass("mec-util-hidden")})),e(".mec_organizer_upload_image_button").click((function(_){var t;_.preventDefault(),t||(t=wp.media()).on("select",(function(){var _=t.state().get("selection").first();e("#mec_organizer_thumbnail_img").html('<img src="'+_.attributes.url+'" />'),e("#mec_organizer_thumbnail").val(_.attributes.url),e(".mec_organizer_remove_image_button").toggleClass("mec-util-hidden"),t.close()})),t.open()})),e(".mec_organizer_remove_image_button").click((function(_){_.preventDefault(),e("#mec_organizer_thumbnail_img").html(""),e("#mec_organizer_thumbnail").val(""),e(".mec_organizer_remove_image_button").toggleClass("mec-util-hidden")})),e("#mec_fes_remove_image_button").click((function(_){_.preventDefault(),e("#mec_fes_thumbnail_img").html(""),e("#mec_fes_thumbnail").val(""),e("#mec_featured_image_file").val(""),e("#mec_fes_remove_image_button").addClass("mec-util-hidden")})),e("#mec_fes_location_remove_image_button").click((function(_){_.preventDefault(),e("#mec_fes_location_thumbnail_img").html(""),e("#mec_fes_location_thumbnail").val(""),e("#mec_fes_location_thumbnail_file").val(""),e("#mec_fes_location_remove_image_button").addClass("mec-util-hidden")})),e("#mec_fes_organizer_remove_image_button").click((function(_){_.preventDefault(),e("#mec_fes_organizer_thumbnail_img").html(""),e("#mec_fes_organizer_thumbnail").val(""),e("#mec_fes_organizer_thumbnail_file").val(""),e("#mec_fes_organizer_remove_image_button").addClass("mec-util-hidden")})),"undefined"!=typeof mec_admin_localize)void 0!==(_=mec_admin_localize.datepicker_format.split("&"))[0]&&2==_.length&&(datepicker_format=_[0]);else if("undefined"!=typeof mecdata){var _;void 0!==(_=mecdata.datepicker_format.split("&"))[0]&&2==_.length&&(datepicker_format=_[0])}e.fn.datepicker&&(e("#mec_start_date").datepicker({changeYear:!0,changeMonth:!0,dateFormat:datepicker_format,gotoCurrent:!0,yearRange:"c-3:c+5"}),e("#mec_end_date").datepicker({changeYear:!0,changeMonth:!0,dateFormat:datepicker_format,gotoCurrent:!0,yearRange:"c-3:c+5"}),e("#mec_date_repeat_end_at_date").datepicker({changeYear:!0,changeMonth:!0,dateFormat:datepicker_format,gotoCurrent:!0,yearRange:"c-3:c+5"}),e(".mec_date_picker_dynamic_format").datepicker({changeYear:!0,changeMonth:!0,dateFormat:datepicker_format,gotoCurrent:!0,yearRange:"c-3:c+5"}),e(".mec_date_picker").datepicker({changeYear:!0,changeMonth:!0,dateFormat:"yy-mm-dd",gotoCurrent:!0,yearRange:"c-3:c+5"})),e("#mec_location_id").on("change",(function(){mec_location_toggle()})),e("#mec_organizer_id").on("change",(function(){mec_organizer_toggle();var _=parseInt(e(this).val()),t=e(this).parent().parent().find("#mec-additional-organizer-wrap");1!=_?t.show():t.hide()})),mec_location_toggle(),mec_organizer_toggle(),e("#mec_repeat").on("change",(function(){mec_repeat_toggle()})),mec_repeat_toggle(),e("#mec_repeat_type").on("change",(function(){mec_repeat_type_toggle()})),mec_repeat_type_toggle(),e("#mec_bookings_limit_unlimited").on("change",(function(){mec_bookings_unlimited_toggle()})),e("#mec_add_in_days").on("click",(function(){var _=e("#mec_exceptions_in_days_start_date").val();if(""===_)return!1;var t=e("#mec_exceptions_in_days_end_date").val();if(""===t)return!1;var n=e("#mec_exceptions_in_days_start_hour").val();1===n.length&&(n="0"+n);var i=e("#mec_exceptions_in_days_start_minutes").val();1===i.length&&(i="0"+i);var c=e("#mec_exceptions_in_days_start_ampm").val();void 0===c&&(c="");var a=e("#mec_exceptions_in_days_end_hour").val();1===a.length&&(a="0"+a);var r=e("#mec_exceptions_in_days_end_minutes").val();1===r.length&&(r="0"+r);var o=e("#mec_exceptions_in_days_end_ampm").val();void 0===o&&(o="");var m=_+":"+t+":"+n+"-"+i+"-"+c+":"+a+"-"+r+"-"+o,l=_+" "+n+":"+i+" "+c+" - "+t+" "+a+":"+r+" "+o;if(e('#mec_in_days input[value="'+m+'"]').length>0)return!1;var d=e("#mec_new_in_days_key"),u=d.val(),s=e("#mec_new_in_days_raw").html().replace(/:i:/g,u).replace(/:val:/g,m).replace(/:label:/g,l);e("#mec_in_days").append(s),d.val(parseInt(u)+1)})),e("#mec_add_not_in_days").on("click",(function(){var _=e("#mec_exceptions_not_in_days_date").val();if(""===_)return!1;var t=e("#mec_new_not_in_days_key").val(),n=e("#mec_new_not_in_days_raw").html().replace(/:i:/g,t).replace(/:val:/g,_);e("#mec_not_in_days").append(n),e("#mec_new_not_in_days_key").val(parseInt(t)+1)})),e("#mec_add_ticket_button").on("click",(function(){var _=e("#mec_new_ticket_key").val(),t=e("#mec_new_ticket_raw").html().replace(/:i:/g,_);e("#mec_tickets").append(t),e("#mec_new_ticket_key").val(parseInt(_)+1),e(".mec_add_price_date_button").off("click").on("click",(function(){mec_handle_add_price_date_button(this)}))})),e(".mec_add_price_date_button").off("click").on("click",(function(){mec_handle_add_price_date_button(this)})),e("#mec_add_hourly_schedule_day_button").on("click",(function(){var _=e("#mec_new_hourly_schedule_day_key").val(),t=e("#mec_new_hourly_schedule_day_raw").html().replace(/:d:/g,_).replace(/:dd:/g,parseInt(_)+1);e("#mec_meta_box_hourly_schedule_days").append(t),e("#mec_new_hourly_schedule_day_key").val(parseInt(_)+1),mec_hourly_schedule_listeners()})),mec_hourly_schedule_listeners(),e("#mec_add_fee_button").on("click",(function(){var _=e("#mec_new_fee_key").val(),t=e("#mec_new_fee_raw").html().replace(/:i:/g,_);e("#mec_fees_list").append(t),e("#mec_new_fee_key").val(parseInt(_)+1)})),e("#mec_add_ticket_variation_button").on("click",(function(){var _=e("#mec_new_ticket_variation_key").val(),t=e("#mec_new_ticket_variation_raw").html().replace(/:i:/g,_);e("#mec_ticket_variations_list").append(t),e("#mec_new_ticket_variation_key").val(parseInt(_)+1)})),e(".mec-form-row.mec-available-color-row span").on("click",(function(){e(".mec-form-row.mec-available-color-row span").removeClass("color-selected"),e(this).addClass("color-selected")})),e("#mec_reg_form_field_types button").on("click",(function(){var _=e(this).data("type");if("mec_email"==_&&e("#mec_reg_form_fields").find('input[value="mec_email"][type="hidden"]').length)return!1;if("name"==_&&e("#mec_reg_form_fields").find('input[value="name"][type="hidden"]').length)return!1;var t=e("#mec_new_reg_field_key").val(),n=e("#mec_reg_field_"+_).html().replace(/:i:/g,t);e("#mec_reg_form_fields").append(n),e("#mec_new_reg_field_key").val(parseInt(t)+1),mec_reg_fields_option_listeners()})),mec_reg_fields_option_listeners(),e("#mec-advanced-wraper ul > ul > li").click((function(){""==e(this).attr("class")?e(this).attr("class","mec-active"):e(this).attr("class",""),e("#mec_date_repeat_advanced").val(e("#mec-advanced-wraper div:first-child > ul").find(".mec-active").find("span").text().slice(0,-1))})),e("#mec_event_form_field_types button").on("click",(function(){var _=e(this).data("type"),t=e("#mec_new_event_field_key").val(),n=e("#mec_event_field_"+_).html().replace(/:i:/g,t);e("#mec_event_form_fields").append(n),e("#mec_new_event_field_key").val(parseInt(t)+1),mec_event_fields_option_listeners()})),mec_event_fields_option_listeners(),e("#mec_bfixed_form_field_types button").on("click",(function(){var _=e(this).data("type"),t=e("#mec_new_bfixed_field_key").val(),n=e("#mec_bfixed_field_"+_).html().replace(/:i:/g,t);e("#mec_bfixed_form_fields").append(n),e("#mec_new_bfixed_field_key").val(parseInt(t)+1),mec_bfixed_fields_option_listeners()})),mec_bfixed_fields_option_listeners()}));